# Описание API Пользователя

#### GET - api/polls

Получение списка всех активных опросов.

Ответ:
```
[
    {
        "id":           Идентификатор,
        "title":        "Название",
        "description":  "Описание",
        "start_date":   "YYYY-MM-DD",
        "finish_date":  "YYYY-MM-DD"
    },
]
```

#### GET - api/polls/<id>

Получение информации об опросе

Ответ:
```
{
    "id":           Идентификатор,
    "title":        "Название",
    "description":  "Описание",
    "start_date":   "YYYY-MM-DD",
    "finish_date":  "YYYY-MM-DD",
    "questions": [
        {
            "id":       Идентификатор,
            "type":     "Тип вопроса (TEXT, CHOICE, MULTIPLE_CHOICE)",
            "text":     "Текст вопроса",
            "poll":     Идентификатор опроса,
            "options": [ - только для CHOICE, MULTIPLE_CHOICE
                {
                    "id":        Идентификатор,
                    "index":     Индекс(Число),
                    "text":      "Текст варианта ответа",
                    "question":   Идентификатор вопроса
                },
            ]
        }
    ]
}
```

#### POST - api/polls/<id>

Прохождение опроса пользователем
```
{
    "user_id":  Идентификатор пользователя,
    "answers": {
        "Идентификатор вопроса": "Текст", - ответ для вопроса типа TEXT
        "Идентификатор вопроса": 1,       - ответ для вопроса типа CHOICE
        "Идентификатор вопроса": [1,2]    - ответ для вопроса типа MULTIPLE_CHOICE
    }
}
```

#### GET - api/user/answer/<id>

Получить пройденные пользователем опросы, с детализацией выбранных ответов.

Ответ:
```
[
    {
        "id":       Идентификатор ответа,
        "user_id":  Идентификатор пользователя,
        "poll":     Идентификатор опроса,
        "answers": [
            {
                "question": {
                    "id":   Идентификатор вопроса,
                    "Тип вопроса (TEXT, CHOICE, MULTIPLE_CHOICE)",
                    "text": "Текст вопроса"
                },
                "answer": "Ответ пользователя на вопрос"
            }
        ]
    }
]
```
